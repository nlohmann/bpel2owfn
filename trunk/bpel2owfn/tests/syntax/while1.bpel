<process name="while1" targetNamespace="anyURI">

  <documentation xml:lang="EN"></documentation>

  <partnerLinks>
    <partnerLink  name="customer" 
                  partnerLinkType="plt:shippingLT"
                  partnerRole="shippingServiceCustomer"
                  myRole="shippingService" />
  </partnerLinks>

  <variables>
    <variable name="shipRequest"
              messageType="sif:shippingRequestMsg" />
    <variable name="shipNotice"
              messageType="sif:shippingNoticeMsg" />
    <variable name="itemsShipped"
              type="ship:itemCountType" />
  </variables>


  <assign>
    <copy>
      <from>0</from>
      <to>$itemsShipped</to>
    </copy>
  </assign>

  <while>
    <condition>
      $itemsShipped
      &lt;
      bpel:getVariableProperty('shipRequest',
      'props:itemsTotal')
    </condition>
    
    <assign>
      <copy>
        <from opaque="yes" />
        <to variable="shipNotice"
        property="props:itemsCount" />
      </copy>
    </assign>

  </while>



</process>
